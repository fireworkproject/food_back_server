{"version":3,"sources":["views/Foods/List/components/FoodTableRow.js","views/Foods/List/Foods.js"],"names":["FoodTableRow","goDetailPage","data","_this","props","callbackFunction","_this2","this","_this$props$food","food","id","food_group","food_name","size","calorie","carbohydrate","protein","fat","sugars","salt","cholesterol","saturated_fat","trans_fat","caffeine","year","react_default","a","createElement","onClick","e","Component","defaultProps","saturaated_fat","Foods","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","foods","foodName","selected","select_id","handleChangeFoodName","searchText","target","value","timeout","clearTimeout","setTimeout","searchFoods","fetch","then","res","json","setState","catch","console","log","getFoodList","selectItem","history","push","page","_this3","list","map","components_FoodTableRow","key","className","type","placeholder","onChange","evt","scope"],"mappings":"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","file":"static/js/10.21c3fd50.chunk.js","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\n\r\nclass FoodTableRow extends Component{\r\n\r\n    static defaultProps = {\r\n        food: {\r\n            \"food_group\": \"과자류\",\r\n            \"food_name\": \"100% 유기농 허니팝 키즈퐁\",\r\n            \"size\": \"30\",\r\n            \"calorie\": \"33.3\",\r\n            \"carbohydrate\": \"7.4\",\r\n            \"protein\": \"0.63\",\r\n            \"fat\": \"0\",\r\n            \"sugars\": \"4.2\",\r\n            \"salt\": \"0\",\r\n            \"cholesterol\": \"0\",\r\n            \"saturaated_fat\": \"0\",\r\n            \"trans_fat\": \"0\",\r\n            \"caffeine\": \"0\",\r\n            \"year\": \"2017\"\r\n        }\r\n      }\r\n\r\n    goDetailPage = (data) => {\r\n        this.props.callbackFunction(data);\r\n    }\r\n\r\n    render(){\r\n\r\n        const { \r\n            id,\r\n            food_group,\r\n            food_name,\r\n            size,\r\n            calorie,\r\n            carbohydrate,\r\n            protein,\r\n            fat,\r\n            sugars,\r\n            salt,\r\n            cholesterol,\r\n            saturated_fat,\r\n            trans_fat,\r\n            caffeine,\r\n            year\r\n        } = this.props.food;\r\n\r\n        return (\r\n           <tr onClick={e => this.goDetailPage({id})}>\r\n               <td>{id}</td>\r\n               <td>{food_group}</td>\r\n               <td>{food_name}</td>\r\n               <td>{size}</td>\r\n               <td>{calorie}</td>\r\n               <td>{carbohydrate}</td>\r\n               <td>{protein}</td>\r\n               <td>{fat}</td>\r\n               <td>{sugars}</td>\r\n               <td>{salt}</td>\r\n               <td>{cholesterol}</td>\r\n               <td>{saturated_fat}</td>\r\n               <td>{trans_fat}</td>\r\n               <td>{caffeine}</td>\r\n               <td>{year}</td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\nexport default FoodTableRow;","import React, { Component } from 'react';\r\nimport FoodTableRow from './components/FoodTableRow';\r\n\r\nclass Foods extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.timeout =  0;\r\n  }\r\n\r\n  state = {\r\n    foods: [],\r\n    foodName: '',\r\n    selected : false,\r\n    select_id: 1\r\n  };\r\n\r\n  food_name = \"\";\r\n\r\n\r\n  componentDidMount() {\r\n    this.getFoodList(0);\r\n  }\r\n\r\n  getFoodList(page){\r\n    fetch('/svc/foods?page='+page)\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n      this.setState({ foods: data.foods })\r\n    })\r\n    .catch(console.log)\r\n  }\r\n\r\n  handleChangeFoodName = (e) => {\r\n    var searchText = e.target.value; // this is the search text\r\n    if(this.timeout) clearTimeout(this.timeout);\r\n    this.timeout = setTimeout(() => {\r\n      this.searchFoods(searchText);\r\n    }, 200);\r\n  }\r\n\r\n  searchFoods = (foodName) => {\r\n    \r\n    if(foodName){\r\n      fetch('/svc/foods/search?foodName='+foodName)\r\n      .then(res => res.json())\r\n      .then((data) => {\r\n        this.setState({ foods: data.foods })\r\n      })\r\n      .catch(console.log);\r\n    }else{\r\n      this.getFoodList(0);\r\n    }\r\n  }\r\n\r\n  selectItem = (data) => {\r\n    this.setState({\r\n      select_id : data.id,\r\n      selected : true\r\n    })\r\n    this.props.history.push('/food/update/'+data.id);\r\n  }\r\n\r\n\r\n  triggerChange() {\r\n    console.log(this.state);\r\n    // this.searchFoods(foodName);\r\n  }\r\n\r\n  render() {\r\n\r\n    const list = this.state.foods.map((food)=>(\r\n      <FoodTableRow key={food.food_name} food={food} callbackFunction={this.selectItem} />\r\n    ));\r\n\r\n    return (\r\n      <div>\r\n        <div id=\"ui-view\">\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group col-md-6\">\r\n              <input type=\"text\" className=\"form-control\" id=\"search_text\" placeholder=\"식품 이름\" onChange={evt => this.handleChangeFoodName(evt)} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              Food List\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">ID</th>\r\n                    <th scope=\"col\">식품군</th>\r\n                    <th scope=\"col\">식품이름</th>\r\n                    <th scope=\"col\">1회제공량(g)</th>\r\n                    <th scope=\"col\">칼로리(kcal)</th>\r\n                    <th scope=\"col\">탄수화물(g)</th>\r\n                    <th scope=\"col\">단백질(g)</th>\r\n                    <th scope=\"col\">지방(g)</th>\r\n                    <th scope=\"col\">당류(g)</th>\r\n                    <th scope=\"col\">나트륨(mg)</th>\r\n                    <th scope=\"col\">콜레스톨(mg)</th>\r\n                    <th scope=\"col\">포화지방산(g)</th>\r\n                    <th scope=\"col\">트랜스지방산(g)</th>\r\n                    <th scope=\"col\">카페인(g)</th>\r\n                    <th scope=\"col\">출시연도</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {list}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Foods;\r\n"],"sourceRoot":""}